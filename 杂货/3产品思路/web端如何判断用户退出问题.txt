

在web端，因为用户不会主动的去点击退出按钮。故而很难判断用户什么时候退出的。

解决方案：长连接。
        用户登录成功后，开启长连接测试用户是否还在线。可以设置10s一次测试，失败两次，判定为已退出。

        要求。所有的web页面都能接收长连接。

        唯一的问题。如果在线用户量大。会造成同时开通了很多的长连接。导致服务器压力过大。
        当然在线用户量大，服务器从根本上来说，这又是另一层面的架构了。